{"version":3,"sources":["components/TodoList/TodoList.tsx","styles/api/api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","todos","setSelectedUserId","useState","query","setQuery","completed","setCompleted","filterd","filter","todo","title","toLowerCase","startsWith","className","action","type","value","onChange","event","target","map","defaultChecked","disabled","onClick","userId","id","getUsers","a","fetch","response","json","CurrentUser","clearUser","isError","setError","currentUser","setUser","getUser","getedUser","useEffect","username","name","email","phone","App","selectedUserId","setTodos","getAll","respons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8649622c.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport './TodoList.scss';\nimport { ToDo } from '../../types/types';\n\ntype Props = {\n  todos: ToDo[],\n  setSelectedUserId: (arg0: number) => void,\n};\n\nexport const TodoList: React.FC<Props> = ({ todos, setSelectedUserId }) => {\n  const [query, setQuery] = useState('');\n  const [completed, setCompleted] = useState('');\n\n  const isFiltered = () => {\n    if (completed === 'Active') {\n      return todos.filter(todo => (\n        todo.title.toLowerCase().startsWith(query.toLowerCase())\n        && todo.completed === false\n      ));\n    }\n\n    if (completed === 'Completed') {\n      return todos.filter(todo => (\n        todo.title.toLowerCase().startsWith(query.toLowerCase())\n        && todo.completed === true\n      ));\n    }\n\n    return todos.filter(todo => (\n      todo.title.toLowerCase().startsWith(query.toLowerCase())\n    ));\n  };\n\n  const filterd = isFiltered();\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <div className=\"TodoList__list-container\">\n        <form action=\"\">\n          <input\n            type=\"text\"\n            data-cy=\"filterByTitle\"\n            value={query}\n            onChange={(event) => {\n              setQuery(event.target.value);\n            }}\n          />\n          <select\n            onChange={(event) => {\n              setCompleted(event.target.value);\n            }}\n          >\n            <option value=\"All\">All</option>\n            <option value=\"Active\">Active</option>\n            <option value=\"Completed\">Completed</option>\n          </select>\n        </form>\n        <ul\n          className=\"TodoList__list\"\n          data-cy=\"listOfTodos\"\n        >\n          {\n            filterd.map(todo => (\n              <li className={`TodoList__item TodoList__item--${todo.completed}`} key={todo.id}>\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    defaultChecked={todo.completed}\n                    disabled\n                  />\n                  <p>{todo.title}</p>\n                </label>\n\n                <button\n                  data-cy=\"userButton\"\n                  className=\"\n                    TodoList__user-button\n                    TodoList__user-button--selected\n                    button\n                  \"\n                  type=\"button\"\n                  onClick={() => setSelectedUserId(todo.userId)}\n                >\n                  {`User#${todo.userId}`}\n                </button>\n              </li>\n            ))\n          }\n        </ul>\n      </div>\n    </div>\n  );\n};\n","const API_URL = 'https://mate.academy/students-api';\n\nexport const getUsers = async (id: number) => {\n  const response = await fetch(`${API_URL}/users/${id}`);\n\n  return response.json();\n};\n","import React, { useState, useEffect } from 'react';\nimport './CurrentUser.scss';\nimport { getUsers } from '../../styles/api/api';\nimport { User } from '../../types/types';\n\ntype Props = {\n  userId: number,\n  clearUser: () => void\n};\n\nexport const CurrentUser: React.FC<Props> = ({ userId, clearUser }) => {\n  const [isError, setError] = useState(false);\n  const [currentUser, setUser] = useState<User | null>(null);\n\n  const getUser = async () => {\n    try {\n      const getedUser = await getUsers(userId);\n\n      setError(false);\n      setUser(getedUser);\n    } catch {\n      setError(true);\n      setUser(null);\n    }\n  };\n\n  useEffect(() => {\n    getUser();\n  }, [userId]);\n\n  return (\n    <>\n      { currentUser && (\n        <div className=\"CurrentUser\" key={currentUser.id}>\n          <h2 className=\"CurrentUser__title\">\n            <span>{`Selected user: ${currentUser.username}`}</span>\n          </h2>\n          <h3\n            className=\"CurrentUser__name\"\n            data-cy=\"userName\"\n          >\n            {currentUser.name}\n          </h3>\n          <p className=\"CurrentUser__email\">{currentUser.email}</p>\n          <p className=\"CurrentUser__phone\">{currentUser.phone}</p>\n          <button\n            type=\"button\"\n            onClick={clearUser}\n          >\n            Clear\n          </button>\n        </div>\n      )}\n      { isError && (\n        <p>Error</p>\n      )}\n\n    </>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { ToDo } from './types/types';\n\nconst App: React.FC = () => {\n  const [\n    selectedUserId,\n    setSelectedUserId,\n  ] = useState(0);\n\n  const [todos, setTodos] = useState<ToDo[]>([]);\n  const API_URL = 'https://mate.academy/students-api';\n\n  useEffect(() => {\n    const getAll = async () => {\n      const response = await fetch(`${API_URL}/todos`);\n      const respons = await response.json();\n\n      setTodos(respons);\n    };\n\n    getAll();\n  }, []);\n\n  const clearUser = () => {\n    setSelectedUserId(0);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList\n          todos={todos}\n          setSelectedUserId={setSelectedUserId}\n        />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              userId={selectedUserId}\n              clearUser={clearUser}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}