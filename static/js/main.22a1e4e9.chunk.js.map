{"version":3,"sources":["components/TodoList/TodoList.tsx","styles/api/api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["Status","TodoList","todos","setSelectedUserId","selectedUserId","useState","query","setQuery","All","completed","setCompleted","filtered","useMemo","Active","filter","todo","title","toLowerCase","includes","Completed","filterTodos","changeStatus","useCallback","event","target","value","className","action","type","onChange","map","defaultChecked","disabled","userId","cn","onClick","id","API_URL","getUsers","a","fetch","response","json","getAll","CurrentUser","clearUser","isError","setIsError","currentUser","setUser","getUser","getedUser","useEffect","username","name","email","phone","App","setTodos","getData","allTodos","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.22a1e4e9.chunk.js","sourcesContent":["import React, { useState, useMemo, useCallback } from 'react';\nimport './TodoList.scss';\nimport cn from 'classnames';\n\ntype Props = {\n  todos: Todo[],\n  setSelectedUserId: (arg0: number) => void,\n  selectedUserId: number,\n};\n\nenum Status {\n  Active = 'Active',\n  Completed = 'Completed',\n  All = 'All',\n}\n\nexport const TodoList: React.FC<Props> = ({\n  todos,\n  setSelectedUserId,\n  selectedUserId,\n}) => {\n  const [query, setQuery] = useState('');\n  const [completed, setCompleted] = useState(Status.All);\n\n  const filterTodos = () => {\n    switch (completed) {\n      case Status.Active:\n        return todos.filter(todo => (\n          todo.title.toLowerCase().includes(query.toLowerCase())\n          && todo.completed === false\n        ));\n\n      case Status.Completed:\n        return todos.filter(todo => (\n          todo.title.toLowerCase().includes(query.toLowerCase())\n          && todo.completed === true\n        ));\n\n      case Status.All:\n        return todos.filter(todo => (\n          todo.title.toLowerCase().includes(query.toLowerCase())\n        ));\n\n      default: return todos;\n    }\n  };\n\n  const filtered = useMemo(() => {\n    return filterTodos();\n  }, [todos, completed]);\n\n  const changeStatus = useCallback((event) => {\n    setCompleted(event.target.value as Status);\n  }, []);\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <div className=\"TodoList__list-container\">\n        <form action=\"\">\n          <input\n            type=\"text\"\n            data-cy=\"filterByTitle\"\n            value={query}\n            onChange={(event) => {\n              setQuery(event.target.value);\n            }}\n          />\n          <select\n            value={completed}\n            onChange={changeStatus}\n          >\n            <option value={Status.All}>All</option>\n            <option value={Status.Active}>Active</option>\n            <option value={Status.Completed}>Completed</option>\n          </select>\n        </form>\n        <ul\n          className=\"TodoList__list\"\n          data-cy=\"listOfTodos\"\n        >\n          {filtered\n            && filtered.map(todo => (\n              <li className={`TodoList__item TodoList__item--${todo.completed}`} key={todo.id}>\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    defaultChecked={todo.completed}\n                    disabled\n                  />\n                  <p>{todo.title}</p>\n                </label>\n\n                {todo.userId\n                  && (\n                    <button\n                      data-cy=\"userButton\"\n                      className={cn(\n                        'TodoList__user-button', 'button',\n                        {\n                          'TodoList__user-button--selected':\n                          todo.userId === selectedUserId,\n                        },\n                      )}\n                      type=\"button\"\n                      onClick={() => (\n                        setSelectedUserId(todo.userId)\n                      )}\n                    >\n                      {`User#${todo.userId}`}\n                    </button>\n                  )}\n              </li>\n            ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","const API_URL = 'https://mate.academy/students-api';\n\nexport const getUsers = async (id: number) => {\n  const response = await fetch(`${API_URL}/users/${id}`);\n\n  return response.json();\n};\n\nexport const getAll = async () => {\n  const response = await fetch(`${API_URL}/todos`);\n\n  return response.json();\n};\n","import React, { useState, useEffect } from 'react';\nimport './CurrentUser.scss';\nimport { getUsers } from '../../styles/api/api';\n\ntype Props = {\n  userId: number,\n  clearUser: () => void\n};\n\nexport const CurrentUser: React.FC<Props> = ({ userId, clearUser }) => {\n  const [isError, setIsError] = useState(false);\n  const [currentUser, setUser] = useState<User | null>(null);\n\n  const getUser = async () => {\n    try {\n      const getedUser = await getUsers(userId);\n\n      setIsError(false);\n      setUser(getedUser);\n    } catch {\n      setIsError(true);\n      setUser(null);\n    }\n  };\n\n  useEffect(() => {\n    getUser();\n  }, [userId]);\n\n  return (\n    <>\n      { currentUser && (\n        <div className=\"CurrentUser\" key={currentUser.id}>\n          <h2 className=\"CurrentUser__title\">\n            <span>{`Selected user: ${currentUser.username}`}</span>\n          </h2>\n          <h3\n            className=\"CurrentUser__name\"\n            data-cy=\"userName\"\n          >\n            {currentUser.name}\n          </h3>\n          <p className=\"CurrentUser__email\">{currentUser.email}</p>\n          <p className=\"CurrentUser__phone\">{currentUser.phone}</p>\n          <button\n            type=\"button\"\n            className=\"button is-light CurrentUser__clear\"\n            onClick={clearUser}\n          >\n            Clear\n          </button>\n        </div>\n      )}\n      { isError && (\n        <p>Error</p>\n      )}\n    </>\n  );\n};\n","import React, { useState, useCallback, useEffect } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getAll } from './styles/api/api';\n\nconst App: React.FC = () => {\n  const [\n    selectedUserId,\n    setSelectedUserId,\n  ] = useState(0);\n\n  const [todos, setTodos] = useState<Todo[]>([]);\n\n  const getData = useCallback(async () => {\n    const allTodos = await getAll();\n\n    setTodos(allTodos);\n  }, []);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const clearUser = () => {\n    setSelectedUserId(0);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList\n          todos={todos}\n          setSelectedUserId={setSelectedUserId}\n          selectedUserId={selectedUserId}\n        />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              userId={selectedUserId}\n              clearUser={clearUser}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}